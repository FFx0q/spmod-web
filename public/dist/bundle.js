!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";const n=()=>{let n=(location.hash.slice(1).toLowerCase()||"/").split("/"),t={resource:null,id:null,verb:null};return t.resource=n[1],t.id=n[2],t.verb=n[3],t},t=async()=>{const n=document.createElement("header");return n.className="header",n},e=async()=>'\n            <div class="brand">\n                <h1>SPMod</h1>\n            </div>\n        ',a=async()=>{const n=document.createElement("footer");return n.className="header",n},r=async()=>'\n            <span>Â© Copyright 2019 - 2020 <a href="https://github.com/FFx0q">FFx0q</a></span>\n        ',i={"/":{render:async()=>`\n            <table>\n            <thead>\n                <tr>\n                    <th>Build</th>\n                    <th>Commit</th>\n                </tr>\n            </thead>\n            <tbody>\n                ${(await(async()=>{try{const n=await fetch("https://localhost:8080/builds");return await n.json()}catch(n){throw n}})()).map(n=>`<tr>\n                        <td>\n                            <i class="far fa-folder"></i> \n                            <a href='#/b/${n.build}'>${n.build}</a>\n                        </td>\n                        <td>\n                            <a href="https://github.com/Amaroq7/SPmod/commit/${n.commit}">#${n.commit}</a>\n                        </td>\n                    </tr>`).join("\n")}\n            </tbody>\n            </table>\n        `},"/b/:id":{render:async()=>{const t=n();return`\n            <table>\n            <thead>\n                <tr>\n                    <th>File</th>\n                    <th>Size</th>\n                </tr>\n            </thead>\n            <tbody>\n                <tr>\n                    <td>\n                        <i class="fas fa-level-up-alt"></i>\n                        <a href='#/'>Parent directory</a>\n                    <td>\n                </tr>\n                ${(await(async n=>{try{const t=await fetch("https://localhost:8080/builds/"+n);return await t.json()}catch(n){throw n}})(t.id)).files.map(n=>`<tr>\n                        <td>\n                            <i class="far fa-file-archive"></i>\n                            <a href='/builds/${n.file}' download>${n.file}\n                        </td>\n                        <td>${n.size} kb</td>\n                    </tr>`).join("\n")}\n            </tbody>\n            </table>\n        `}}},d=async()=>{const t=document.querySelector("#app > header"),a=document.querySelector("#app > main"),d=document.querySelector("#app > footer"),o=n(),c=(o.resource?"/"+o.resource:"/")+(o.id?"/:id":"")+(o.verb?"/"+o.verb:""),s=i[c];t.innerHTML=await e(),a.innerHTML=await s.render(),d.innerHTML=await r()};window.onload=async n=>{n.preventDefault();const e=document.querySelector("#app"),r=document.createElement("main");r.className="container";const i=await t(),d=await a();e.appendChild(i),e.appendChild(r),e.appendChild(d)},window.addEventListener("hashchange",d),window.addEventListener("load",d)}));
//# sourceMappingURL=bundle.js.map
